<ul class="breadcrumb">
 <li><?link&target=/&text=Connect?> <span class="divider">/</span></li>
 <h1>Systèmes d'identifiants</h1>
</ul>

<div class="row-fluid">
 <div class="span3" id="tree">
  <ul class="nav nav-list well">
   <li<@roid?"":" class=\"active\""@>>
    <?link&
      target=<@p@>&
      text=Systèmes d'identifiants
           <div class="pull-right" id="source_add_link"><i class="icon-plus<@roid?"":" icon-white"@>"></i></div>&
    ?>
   </li>
   <?data_sources&template=<{data_source&template=
   	<li class="tree_1<@(roid==id)?" active":""@>">
	 <?link&
	   target=<@p@>&
	   roid=<@id@>&
	   text=<@name@>
                <@(id==roid)?"<div class=\"pull-right\" id=\"source_remove_link\"><i class=\"icon-remove icon-white\"></i></div>":""@>&
	 ?>
	</li>
   }>?>
  </ul>
 </div><div class="span9">
 
  <?if&
    cond=<@roid@>&
    else=<div class="alert alert-info">Cette page permet de déclarer les systèmes d'identifiants extérieurs à SYNTHESE.<br />Sélectionner le système d'identifiant à administrer dans le menu ci-contre ou cliquer sur l'icone <i class="icon-plus"></i> pour en ajouter un.</div>&
    then=<?object&
    	   roid=<@roid@>&
    	   template=
		<?form&
		  name=properties&
		  target=<@p@>&
		  a=ObjectUpdate&
		  actionParam_object_id=<@id@>&
		  roid=<@id@>&
		  class=form-horizontal&
		?>
		 <div class="control-group">
		  <label class="control-label" for="prop-name">Nom</label>
		  <div class="controls"><input type="text" name="actionParam_field_name" value="<@name@>" /></div>
		 </div>
	
		 <div class="control-group">
		  <label class="control-label" for="prop-name">Icone</label>
		  <div class="controls"><input type="text" name="actionParam_field_icon" value="<@icon@>" /></div>
		 </div>
	
		 <div class="control-group">
		  <label class="control-label" for="prop-name">Jeu de caractères</label>
		  <div class="controls"><input type="text" name="actionParam_field_charset" value="<@charset@>" /></div>
		 </div>
	
		 <div class="control-group">
		  <label class="control-label" for="prop-name">Système de coordonnées</label>
		  <div class="controls"><input type="text" name="actionParam_field_srid" value="<@srid@>" /></div>
		 </div>
	
		 <div class="control-group">
		  <div class="controls"><button type="submit" class="btn btn-warning">OK</button></div>
		 </div>
			
		</form>

		<div class="hide modal fade" id="source_remove_modal">
		   <?form&
		     name=source_remove&
		     target=<@p@>&
		     a=RemoveObjectAction&
		     actionParam_object_id=<@id@>&
		   ?>
		   <div class="modal-header">
		    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\&times;</button>
		    <h3>Confirmation de suppression</h3>
		   </div><div class="modal-body">
		    <p>Etes-vous sûr de vouloir supprimer le système d'identifiants <@name@> ?</p>
		   </div><div class="modal-footer">
		    <button type="submit" class="btn btn-danger">Oui</button>
		    <a href="#" class="btn btn-primary" data-dismiss="modal">Non</a>
		   </div>
		   </form>
		</div>
		
	  ?>
   ?>


 </div>
</div>

<div class="hide modal fade" id="source_add_modal">
   <?form&
     name=source_add&
     target=<@p@>&
     a=ObjectCreate&
     actionParam_table_id=59&
     class=form-horizontal&
     co=1&
   ?>
   <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\&times;</button>
    <h3>Création de système d'identifiants</h3>
   </div><div class="modal-body">
         <div class="control-group">
          <label class="control-label">Nom</label>
          <div class="controls">
           <input type="text" name="actionParam_field_name" placeholder="Nom" />
          </div>
         </div>
   </div><div class="modal-footer">
    <button type="submit" class="btn btn-warning">Créer</button>
    <a href="#" class="btn btn-primary" data-dismiss="modal">Annuler</a>
   </div>
   </form>
</div>

<script src="/connect/js/sources.js"></script>