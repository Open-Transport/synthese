*** Settings ***
Documentation     Bla bla bla
Resource          sae.txt
Library           Collections

*** Variables ***

*** Keywords ***
${sleepTime} plus tard
    Sleep    ${sleepTime}

Un peu plus tard
    5 seconds plus tard

La régulation voit une demande de rappel normale provenant du service ${serviceId} de la ligne ${commercialLineId}
    [Documentation]    FAKE
    Un peu plus tard
    ${alertList}=    List Regulation Alerts
    ${expectedJSON}=    Evaluate    { u'alerts': { u'alert': [{u'line_id': u'${commercialLineId}', u'kind': u'0', u'extra_data': u'{"extraData":{"priority":"0"}}', u'id': u'11527956521868015091', u'service_id': u'${serviceId}'}]}}
    Should Be Equal    ${alertList.json()}    ${expectedJSON}


La régulation voit une demande de rappel urgente provenant du service ${serviceId} de la ligne ${commercialLineId}
    [Documentation]    FAKE
    Un peu plus tard
    ${alertList}=    List Regulation Alerts
    ${expectedJSON}=    Evaluate    { u'alerts': { u'alert': [{u'line_id': u'${commercialLineId}', u'kind': u'0', u'extra_data': u'{"extraData":{"priority":"1"}}', u'id': u'11527956521868015091', u'service_id': u'${serviceId}'}]}}
    Should Be Equal    ${alertList.json()}    ${expectedJSON}


