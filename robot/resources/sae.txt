*** Settings ***
Documentation     Bla bla bla
Library           Process
Library           Telnet
Library           OperatingSystem
Library           DatabaseLibrary
Resource          synthese.txt
Resource          optymo_data.txt

*** Variables ***

*** Keywords ***
Démarrer SAE
    Utiliser données réseau    ${DB}
    Start Synthese

Arrêter SAE
    Stop Synthese

Utiliser données réseau
    [Arguments]    ${testData}
    Copy File    ${testData}    ${S3_SERVER_DB}

Supprimer données SAE
    Delete Synthese Objects    t119_vehicle_calls
    Delete Synthese Objects    t120_alerts
    # Connect To Database Using Custom Params    sqlite3   database="./config.db3"
    # @{queryResults}=   Query    SELECT id FROM t119_vehicle_calls;
    # :FOR   ${id}   in    @{queryResults}    
    # \   Delete Synthese Object   ${id[0]}
    # @{queryResults}=   Query    SELECT id FROM t120_alerts;
    # :FOR   ${id}   in    @{queryResults}    
    # \   Delete Synthese Object   ${id[0]}
    # Disconnect From Database

Create Vehicle Call
    [Arguments]    ${vehicleId}    ${priority}
    ${httpResponse}=    Create Synthese Object    119    field_vehicle_id\=${vehicleId}    field_priority\=${priority}
    Should Be Equal As Strings    ${httpResponse.status_code}    200

Update Vehicle Position
    [Arguments]    ${vehicleId}    ${serviceId}
    ${httpResponse}=    Call Synthese Action    VehiclePositionUpdateAction    actionParamve\=${vehicleId}    actionParamsi\=${serviceId}
    Should Be Equal As Strings    ${httpResponse.status_code}    200

List Regulation Alerts
    ${alertList}=   Call Synthese Service    alert_list    of\=xml
    [Return]    ${alertList}
